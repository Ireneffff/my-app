/* FILE: app/globals.css */
/* Tailwind v4: import unico. Evita @tailwind base/components/utilities (v3). */
@import "tailwindcss";

/* ---- Theme tokens (light/dark) ---- */
:root {
  --bg: 245 246 248;
  --surface: 255 255 255;
  --subtle: 250 250 252;
  --fg: 29 29 31;
  --muted-fg: 110 113 120;
  --border: 0 0 0 / 0.08;
  --shadow: 15 23 42 / 0.08;
  --accent: 0 122 255;
}

:root.dark {
  --bg: 17 18 20;
  --surface: 27 29 33;
  --subtle: 22 23 26;
  --fg: 232 233 236;
  --muted-fg: 156 159 166;
  --border: 255 255 255 / 0.14;
  --shadow: 0 0 0 / 0.0;
  --accent: 64 156 255;
}

/* ---- Token utilities (usate nei componenti) ---- */
.bg-bg { background-color: rgb(var(--bg)); }
.bg-surface { background-color: rgb(var(--surface)); }
.bg-subtle { background-color: rgb(var(--subtle)); }
.text-fg { color: rgb(var(--fg)); }
.text-muted-fg { color: rgb(var(--muted-fg)); }
.border-border { border-color: color-mix(in srgb, rgba(var(--border)) 100%, transparent); }
.bg-accent { background-color: rgb(var(--accent)); }
.text-accent { color: rgb(var(--accent)); }
.pill-date {
  background-color: color-mix(in srgb, rgb(var(--muted-fg)) 12%, transparent);
  color: rgb(var(--muted-fg));
}
.pill-time {
  background-color: color-mix(in srgb, rgb(var(--accent)) 14%, transparent);
  color: rgb(var(--accent));
}

.surface-panel {
  border-radius: 2.5rem;
  background-color: rgb(var(--surface));
  border: 1px solid color-mix(in srgb, rgba(var(--border)) 100%, transparent);
  box-shadow: 0 28px 60px rgba(var(--shadow));
  backdrop-filter: blur(18px);
}

.surface-panel--compact {
  border-radius: 1.5rem;
  background-color: rgb(var(--surface));
  border: 1px solid color-mix(in srgb, rgba(var(--border)) 100%, transparent);
  box-shadow: 0 20px 44px rgba(var(--shadow));
}

/* ---- Layout helpers ---- */
.container { max-width: 1200px; margin-inline: auto; }

body {
  background-color: rgb(var(--bg));
  color: rgb(var(--fg));
  font-family: "SF Pro Display", "SF Pro Text", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

a { color: inherit; text-decoration: none; }

/* Accessibilit√†: focus visibile coerente */
.focus-ring:focus-visible { outline: 2px solid rgb(var(--accent) / 0.45); outline-offset: 2px; }

/* Screen-reader-only (toggleable al focus) */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  clip: auto;
  margin: 0;
  padding: .25rem .5rem;
  border-radius: .75rem;
  background: color-mix(in srgb, rgb(var(--accent)) 12%, transparent);
}

/* iOS tap highlight meno invasivo */
* { -webkit-tap-highlight-color: rgba(0, 0, 0, 0.04); }

@keyframes preview-fade {
  from {
    opacity: 0;
    transform: translateY(12px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-preview-fade {
  animation: preview-fade 480ms ease forwards;
}
